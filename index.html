<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- PWA Settings -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#000000">

    <title>RehabilitaciÃ³n Espejo VR</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            overflow: hidden;
            display: flex;
            height: 100vh;
            width: 100vw;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            -webkit-user-select: none;
            user-select: none;
        }

        /* Contenedor de cada ojo */
        .eye {
            width: 50%;
            height: 100%;
            position: relative;
            overflow: hidden;
            border-right: 1px solid #222;
            background: #000;
        }

        /* 
           Usamos un contenedor interno para el video para poder aplicar transformaciones (Zoom/Pan)
           sin afectar al tamaÃ±o del viewport del ojo.
        */
        .video-container {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        video {
            /* 
               Por defecto object-fit: cover llena la pantalla, pero recorta.
               El usuario podrÃ¡ ajustar esto con el zoom.
            */
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scaleX(-1);
            /* EFECTO ESPEJO */
            transition: transform 0.1s linear;
            /* Suavizar zoom manual */
        }

        /* --- UI DE INICIO --- */
        #pantallaInicio {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0d0d0d, #1a1a1a);
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }

        h1 {
            margin-bottom: 5px;
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(90deg, #00C9FF 0%, #92FE9D 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p {
            color: #ccc;
            margin-bottom: 40px;
            font-size: 1rem;
            max-width: 600px;
            line-height: 1.5;
        }

        .btn-grande {
            padding: 15px 50px;
            font-size: 1.2rem;
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 50px;
            box-shadow: 0 0 30px rgba(0, 123, 255, 0.5);
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-grande:active {
            transform: scale(0.95);
            box-shadow: 0 0 15px rgba(0, 123, 255, 0.5);
        }

        .btn-paypal {
            margin-top: 50px;
            padding: 10px 20px;
            font-size: 0.9rem;
            background: rgba(255, 196, 57, 0.05);
            color: #FFC439;
            border: 1px solid #FFC439;
            border-radius: 30px;
            text-decoration: none;
            transition: background 0.3s;
        }

        .btn-paypal:hover {
            background: rgba(255, 196, 57, 0.15);
        }

        /* --- UI DE CONTROL (FLOTANTE) --- */
        #panelControl {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: 400px;
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 15px;
            display: none;
            /* Se muestra al iniciar */
            flex-direction: column;
            gap: 10px;
            z-index: 50;
            color: white;
            transition: opacity 0.5s;
        }

        .fila-control {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .lbl-info {
            font-size: 0.85rem;
            color: #aaa;
            text-align: center;
            width: 100%;
        }

        button.btn-ctrl {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9rem;
            flex: 1;
            cursor: pointer;
            transition: background 0.2s;
        }

        button.btn-ctrl:active {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Sliders */
        input[type=range] {
            width: 100%;
            -webkit-appearance: none;
            background: transparent;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #007bff;
            cursor: pointer;
            margin-top: -6px;
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #333;
            border-radius: 2px;
        }

        .oculto {
            opacity: 0;
            pointer-events: none;
        }

        /* Selector de Idioma */
        .language-container {
            margin-top: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .language-container select {
            background: transparent;
            color: white;
            border: none;
            font-size: 0.9rem;
            outline: none;
            cursor: pointer;
            text-align: center;
            text-transform: capitalize;
        }

        .language-container select option {
            background: #222;
            color: white;
        }
    </style>
</head>

<body onclick="mostrarUI()">

    <!-- PANTALLA INICIO -->
    <div id="pantallaInicio">
        <h1 data-i18n="title">Terapia Espejo VR</h1>
        <p data-i18n="desc">RehabilitaciÃ³n neuronal mediante realidad virtual.<br>Funciona en cualquier mÃ³vil con
            Cardboard/Visor VR.</p>

        <button class="btn-grande" onclick="iniciarApp(event)" data-i18n="start">COMENZAR</button>

        <p style="font-size: 0.8rem; margin-top: 30px; opacity: 0.6; margin-bottom: 0;" data-i18n="perm">
            AsegÃºrate de permitir el acceso a la cÃ¡mara.
        </p>

        <!-- Selector de Idioma -->
        <div class="language-container">
            <span>ğŸŒ</span>
            <select id="langSelect" onchange="cambiarIdioma(this.value)">
                <!-- JS inserta opciones -->
            </select>
        </div>

        <a href="https://www.paypal.me/josestorm88" target="_blank" class="btn-paypal" data-i18n="support">
            â˜• Apoyar el proyecto
        </a>
    </div>

    <!-- PANEL DE CONTROL (Se oculta automÃ¡ticamente) -->
    <div id="panelControl" onclick="event.stopPropagation()">
        <div class="lbl-info" id="infoCamara" data-i18n="searching">Buscando cÃ¡maras...</div>

        <div class="fila-control">
            <button class="btn-ctrl" onclick="cambiarCamara(-1)"><span data-i18n="prev">&#8592; Ant</span></button>
            <button class="btn-ctrl" onclick="cambiarCamara(1)"><span data-i18n="next">Sig &#8594;</span></button>
        </div>

        <div class="lbl-info" style="margin-top:5px; text-align:left;"><span data-i18n="zoom">Zoom / LejanÃ­a</span>:
            <span id="valZoom">100%</span>
        </div>
        <div class="fila-control">
            <!-- Rango de 0.5 (alejado) a 1.5 (cerca) -->
            <input type="range" id="zoomSlider" min="0.4" max="1.5" step="0.05" value="1.0"
                oninput="ajustarZoom(this.value)">
        </div>

        <div class="fila-control" style="margin-top: 10px;">
            <button class="btn-ctrl" onclick="volverInicio()"
                style="background: rgba(255, 50, 50, 0.25); border: 1px solid rgba(255,50,50,0.5);">
                <span data-i18n="menu">ğŸ  MenÃº</span>
            </button>
        </div>

        <div class="lbl-info" style="margin-top:5px; font-size: 0.75rem; opacity: 0.5;">
            <span data-i18n="touchHint">Toca la pantalla para mostrar/ocultar este menÃº</span>
        </div>
    </div>

    <!-- VISTA VR (Doble Ojo) -->
    <!-- Contenedor extra para poder aplicar transformaciones CSS (Zoom) sin romper el layout -->
    <div class="eye">
        <div class="video-container" id="contL">
            <video id="videoL" playsinline autoplay muted></video>
        </div>
    </div>
    <div class="eye">
        <div class="video-container" id="contR">
            <video id="videoR" playsinline autoplay muted></video>
        </div>
    </div>

    <script>
        // --- ESTADO GLOBAL ---
        let streamActual = null;
        let listaDispositivos = [];
        let indiceCamActual = 0;
        let timerOcultarUI = null;
        let escalaZoom = 1.0;

        // --- TRADUCCIONES (50 IDIOMAS) ---
        const i18n = {
            es: { title: "Terapia Espejo VR", desc: "RehabilitaciÃ³n neuronal mediante realidad virtual.<br>Funciona en cualquier mÃ³vil con Cardboard/Visor VR.", start: "COMENZAR", perm: "AsegÃºrate de permitir el acceso a la cÃ¡mara.", support: "â˜• Apoyar el proyecto", searching: "Buscando cÃ¡maras...", prev: "â† Ant", next: "Sig â†’", zoom: "Zoom / LejanÃ­a", touchHint: "Toca para menÃº", loading: "Cargando", error: "Error: Ninguna cÃ¡mara", menu: "ğŸ  MenÃº / Salir" },
            en: { title: "Mirror Therapy VR", desc: "Neural rehabilitation using virtual reality.<br>Works on any mobile with Cardboard/VR Headset.", start: "START", perm: "Ensure you allow camera access.", support: "â˜• Support the project", searching: "Searching cameras...", prev: "â† Prev", next: "Next â†’", zoom: "Zoom / Distance", touchHint: "Touch for menu", loading: "Loading", error: "Error: No camera", menu: "ğŸ  Menu / Exit" },
            fr: { title: "ThÃ©rapie Miyoir VR", desc: "RÃ©Ã©ducation neuronale via rÃ©alitÃ© virtuelle.<br>Fonctionne sur tout mobile avec Cardboard/Casque VR.", start: "COMMENCER", perm: "Assurez-vous d'autoriser l'accÃ¨s Ã  la camÃ©ra.", support: "â˜• Soutenir le projet", searching: "Recherche de camÃ©ras...", prev: "â† PrÃ©c", next: "Suiv â†’", zoom: "Zoom / Distance", touchHint: "Toucher pour menu", loading: "Chargement", error: "Erreur: Pas de camÃ©ra" },
            de: { title: "Spiegeltherapie VR", desc: "Neuronale Rehabilitation durch virtuelle RealitÃ¤t.<br>Funktioniert mit jedem Handy mit Cardboard/VR-Brille.", start: "STARTEN", perm: "Bitte Kamerazugriff erlauben.", support: "â˜• Projekt unterstÃ¼tzen", searching: "Suche Kameras...", prev: "â† ZurÃ¼ck", next: "Weiter â†’", zoom: "Zoom / Abstand", touchHint: "Tippen fÃ¼r MenÃ¼", loading: "Laden", error: "Fehler: Keine Kamera" },
            pt: { title: "Terapia de Espelho VR", desc: "ReabilitaÃ§Ã£o neural via realidade virtual.<br>Funciona em qualquer celular com Cardboard/VR.", start: "COMEÃ‡AR", perm: "Certifique-se de permitir o acesso Ã  cÃ¢mera.", support: "â˜• Apoiar o projeto", searching: "Procurando cÃ¢meras...", prev: "â† Ant", next: "Prox â†’", zoom: "Zoom / DistÃ¢ncia", touchHint: "Toque para menu", loading: "Carregando", error: "Erro: Nenhuma cÃ¢mera" },
            it: { title: "Terapia dello Specchio VR", desc: "Riabilitazione neuronale tramite realtÃ  virtuale.<br>Funziona su qualsiasi cellulare con Cardboard/VR.", start: "INIZIA", perm: "Assicurati di consentire l'accesso alla fotocamera.", support: "â˜• Sostieni il progetto", searching: "Cercando telecamere...", prev: "â† Prec", next: "Succ â†’", zoom: "Zoom / Distanza", touchHint: "Tocca per menu", loading: "Caricamento", error: "Errore: Nessuna telecamera" },
            ru: { title: "Ğ—ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ VR", desc: "ĞĞµĞ¹Ñ€Ğ¾Ñ€ĞµĞ°Ğ±Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸.<br>Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¼ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğµ Ñ Cardboard/VR.", start: "ĞĞĞ§ĞĞ¢Ğ¬", perm: "Ğ Ğ°Ğ·Ñ€ĞµÑˆĞ¸Ñ‚Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ĞºĞ°Ğ¼ĞµÑ€Ğµ.", support: "â˜• ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚", searching: "ĞŸĞ¾Ğ¸ÑĞº ĞºĞ°Ğ¼ĞµÑ€...", prev: "â† ĞŸÑ€ĞµĞ´", next: "Ğ¡Ğ»ĞµĞ´ â†’", zoom: "Ğ—ÑƒĞ¼ / Ğ Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ", touchHint: "ĞšĞ¾ÑĞ½Ğ¸Ñ‚ĞµÑÑŒ Ğ´Ğ»Ñ Ğ¼ĞµĞ½Ñ", loading: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°", error: "ĞÑˆĞ¸Ğ±ĞºĞ°: ĞĞµÑ‚ ĞºĞ°Ğ¼ĞµÑ€Ñ‹" },
            zh: { title: "é•œåƒç–—æ³• VR", desc: "é€šè¿‡è™šæ‹Ÿç°å®è¿›è¡Œç¥ç»åº·å¤ã€‚<br>é€‚ç”¨äºä»»ä½•å¸¦æœ‰Cardboard/VRå¤´ç›”çš„æ‰‹æœºã€‚", start: "å¼€å§‹", perm: "è¯·ç¡®ä¿å…è®¸è®¿é—®æ‘„åƒå¤´ã€‚", support: "â˜• æ”¯æŒè¯¥é¡¹ç›®", searching: "æ­£åœ¨æœç´¢æ‘„åƒå¤´...", prev: "â† ä¸Šä¸€ä¸ª", next: "ä¸‹ä¸€ä¸ª â†’", zoom: "ç¼©æ”¾ / è·ç¦»", touchHint: "ç‚¹å‡»æ˜¾ç¤ºèœå•", loading: "æ­£åœ¨åŠ è½½", error: "é”™è¯¯ï¼šæ— æ‘„åƒå¤´" },
            ja: { title: "ãƒŸãƒ©ãƒ¼ã‚»ãƒ©ãƒ”ãƒ¼ VR", desc: "ãƒãƒ¼ãƒãƒ£ãƒ«ãƒªã‚¢ãƒªãƒ†ã‚£ã«ã‚ˆã‚‹ç¥çµŒãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã€‚<br>Cardboard/VRãƒ˜ãƒƒãƒ‰ã‚»ãƒƒãƒˆå¯¾å¿œã®æºå¸¯é›»è©±ã§å‹•ä½œã—ã¾ã™ã€‚", start: "é–‹å§‹", perm: "ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚", support: "â˜• ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ”¯æ´", searching: "ã‚«ãƒ¡ãƒ©ã‚’æ¤œç´¢ä¸­...", prev: "â† å‰ã¸", next: "æ¬¡ã¸ â†’", zoom: "ã‚ºãƒ¼ãƒ  / è·é›¢", touchHint: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã‚¿ãƒƒãƒ—", loading: "èª­ã¿è¾¼ã¿ä¸­", error: "ã‚¨ãƒ©ãƒ¼: ã‚«ãƒ¡ãƒ©ãªã—" },
            ko: { title: "ê±°ìš¸ ì¹˜ë£Œ VR", desc: "ê°€ìƒ í˜„ì‹¤ì„ ì´ìš©í•œ ì‹ ê²½ ì¬í™œ.<br>Cardboard/VR í—¤ë“œì…‹ì´ ìˆëŠ” ëª¨ë“  ëª¨ë°”ì¼ì—ì„œ ì‘ë™.", start: "ì‹œì‘", perm: "ì¹´ë©”ë¼ ì•¡ì„¸ìŠ¤ë¥¼ í—ˆìš©í•´ ì£¼ì„¸ìš”.", support: "â˜• í”„ë¡œì íŠ¸ í›„ì›", searching: "ì¹´ë©”ë¼ ê²€ìƒ‰ ì¤‘...", prev: "â† ì´ì „", next: "ë‹¤ìŒ â†’", zoom: "ì¤Œ / ê±°ë¦¬", touchHint: "ë©”ë‰´ í„°ì¹˜", loading: "ë¡œë”© ì¤‘", error: "ì˜¤ë¥˜: ì¹´ë©”ë¼ ì—†ìŒ" },
            ar: { title: "Ø¹Ù„Ø§Ø¬ Ø§Ù„Ù…Ø±Ø¢Ø© VR", desc: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ£Ù‡ÙŠÙ„ Ø§Ù„Ø¹ØµØ¨ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ.<br>ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø£ÙŠ Ù‡Ø§ØªÙ Ù…Ø­Ù…ÙˆÙ„ Ù…Ø¹ Ù†Ø¸Ø§Ø±Ø© Cardboard/VR.", start: "Ø¨Ø¯Ø¡", perm: "ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§.", support: "â˜• Ø¯Ø¹Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹", searching: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§Øª...", prev: "â† Ø³Ø§Ø¨Ù‚", next: "ØªØ§Ù„ÙŠ â†’", zoom: "ØªÙƒÙŠÙŠÙ / Ù…Ø³Ø§ÙØ©", touchHint: "Ø§Ù„Ù…Ø³ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©", loading: "Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„", error: "Ø®Ø·Ø£: Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒØ§Ù…ÙŠØ±Ø§" },
            hi: { title: "à¤®à¤¿à¤°à¤° à¤¥à¥‡à¤°à¥‡à¤ªà¥€ VR", desc: "à¤†à¤­à¤¾à¤¸à¥€ à¤µà¤¾à¤¸à¥à¤¤à¤µà¤¿à¤•à¤¤à¤¾ à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤•à¥‡ à¤¤à¤‚à¤¤à¥à¤°à¤¿à¤•à¤¾ à¤ªà¥à¤¨à¤°à¥à¤µà¤¾à¤¸.<br>Cardboard/VR à¤¹à¥‡à¤¡à¤¸à¥‡à¤Ÿ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤•à¤¿à¤¸à¥€ à¤­à¥€ à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤ªà¤° à¤•à¤¾à¤® à¤•à¤°à¤¤à¤¾ à¤¹à¥ˆà¥¤", start: "à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚", perm: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤•à¥ˆà¤®à¤°à¤¾ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤•à¥€ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤¦à¥‡à¤‚à¥¤", support: "â˜• à¤ªà¤°à¤¿à¤¯à¥‹à¤œà¤¨à¤¾ à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤•à¤°à¥‡à¤‚", searching: "à¤•à¥ˆà¤®à¤°à¥‡ à¤–à¥‹à¤œ à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚...", prev: "â† à¤ªà¤¿à¤›à¤²à¤¾", next: "à¤…à¤—à¤²à¤¾ â†’", zoom: "à¤œà¤¼à¥‚à¤® / à¤¦à¥‚à¤°à¥€", touchHint: "à¤®à¥‡à¤¨à¥‚ à¤•à¥‡ à¤²à¤¿à¤ à¤¸à¥à¤ªà¤°à¥à¤¶ à¤•à¤°à¥‡à¤‚", loading: "à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ", error: "à¤¤à¥à¤°à¥à¤Ÿà¤¿: à¤•à¥‹à¤ˆ à¤•à¥ˆà¤®à¤°à¤¾ à¤¨à¤¹à¥€à¤‚" },
            bn: { title: "à¤®à¤¿à¤°à¤° à¤¥à¥‡à¤°à¥‡à¤ªà¥€ VR", desc: "à¦­à¦¾à¦°à¥à¤šà§à¦¯à¦¼à¦¾à¦² à¦°à¦¿à¦¯à¦¼à§‡à¦²à¦¿à¤Ÿà¥€ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§‡ à¦¸à§à¦¨à¦¾à¦¯à¦¼à¥ à¦ªà§à¦¨à¦°à§à¦¬à¦¾à¦¸à¦¨.<br>Cardboard/VR à¦¹à§‡à¦¡à¦¸à§‡à¦Ÿ à¦¸à¦¹ à¦¯à§‡à¦•à§‹à¦¨à§‹ à¤®à¥‹à¤¬à¤¾à¤‡à¤²à¥‡ à¤•à¤¾à¤® à¦•à¦°à§‡à¥¤", start: "à¤¶à¥à¤°à¥‚", perm: "à¤•à§à¦¯à¦¾à¦®à¥‡à¤°à¤¾ à¦…à§à¦¯à¦¾à¦•à§à¦¸à§‡à¦¸ à¦…à¦¨à§à¦®à¦¤à¦¿ à¦¦à¦¿à¦¨à¥¤", support: "â˜• à¦ªà§à¦°à¦•à¦²à§à¦ª à¦¸à¦®à¦°à§à¦¥à¦¨", searching: "à¤•à§à¦¯à¦¾à¦®à§‡à¦°à¦¾ à¦–à§à¦à¦œà¦›à§‡...", prev: "â† à¦ªà§‚à¦°à§à¦¬", next: "à¦ªà¦° â†’", zoom: "à¦œà§à¦® / à¦¦à§‚à¦°à¤¤à¥à¦¬", touchHint: "à¤®à¥‡à¤¨à§ à¦¸à§à¦ªà¦°à§à¦¶", loading: "à¤²à¥‹à¤¡ à¦¹à¦šà§à¦›à§‡", error: "à¦¤à§à¦°à§à¦Ÿà¦¿: à¦•à§à¦¯à¦¾à¦®à§‡à¦°à¦¾ à¦¨à§‡à¦‡" },
            tr: { title: "Ayna Terapisi VR", desc: "Sanal gerÃ§eklik kullanarak nÃ¶rolojik rehabilitasyon.<br>Cardboard/VR BaÅŸlÄ±klÄ± herhangi bir cep telefonunda Ã§alÄ±ÅŸÄ±r.", start: "BAÅLAT", perm: "Kamera eriÅŸimine izin verdiÄŸinizden emin olun.", support: "â˜• Projeyi Destekle", searching: "Kamera aranÄ±yor...", prev: "â† Ã–nceki", next: "Sonraki â†’", zoom: "YakÄ±nlaÅŸtÄ±r / Mesafe", touchHint: "MenÃ¼ iÃ§in dokun", loading: "YÃ¼kleniyor", error: "Hata: Kamera yok" },
            nl: { title: "Spiegeltherapie VR", desc: "Neurale revalidatie via virtual reality.<br>Werkt op elke mobiel met Cardboard/VR-bril.", start: "STARTEN", perm: "Zorg ervoor dat je cameratoegang toestaat.", support: "â˜• Steun het project", searching: "Camera's zoeken...", prev: "â† Vorige", next: "Volgende â†’", zoom: "Zoom / Afstand", touchHint: "Tik voor menu", loading: "Laden", error: "Fout: Geen camera" },
            pl: { title: "Terapia Lustrzana VR", desc: "Rehabilitacja neurologiczna przy uÅ¼yciu wirtualnej rzeczywistoÅ›ci.<br>DziaÅ‚a na kaÅ¼dym telefonie z Google Cardboard.", start: "START", perm: "Upewnij siÄ™, Å¼e zezwoliÅ‚eÅ› na dostÄ™p do kamery.", support: "â˜• Wesprzyj projekt", searching: "Szukanie kamer...", prev: "â† Poprz", next: "Nast â†’", zoom: "Zoom / Dystans", touchHint: "Dotknij menu", loading: "Åadowanie", error: "BÅ‚Ä…d: Brak kamery" },
            sv: { title: "Spegelterapi VR", desc: "Neurologisk rehabilitering med virtuell verklighet.<br>Fungerar pÃ¥ alla mobiler med Cardboard/VR.", start: "STARTA", perm: "Se till att tillÃ¥ta kameraÃ¥tkomst.", support: "â˜• StÃ¶d projektet", searching: "SÃ¶ker kameror...", prev: "â† FÃ¶reg", next: "NÃ¤sta â†’", zoom: "Zoom / AvstÃ¥nd", touchHint: "Tryck fÃ¶r meny", loading: "Laddar", error: "Fel: Ingen kamera" },
            da: { title: "Spejlterapi VR", desc: "Neural rehabilitering via virtual reality.<br>Virker pÃ¥ enhver mobil med Cardboard/VR.", start: "START", perm: "Tillad venligst kameraadgang.", support: "â˜• StÃ¸t projektet", searching: "SÃ¸ger kameraer...", prev: "â† Forrige", next: "NÃ¦ste â†’", zoom: "Zoom / Afstand", touchHint: "Tryk for menu", loading: "IndlÃ¦ser", error: "Fejl: Intet kamera" },
            fi: { title: "Peilihoito VR", desc: "Neurologinen kuntoutus virtuaalitodellisuuden avulla.<br>Toimii kaikilla puhelimilla Cardboard/VR:n kanssa.", start: "ALOITA", perm: "Salli kameran kÃ¤yttÃ¶.", support: "â˜• Tue projektia", searching: "EtsitÃ¤Ã¤n kameroita...", prev: "â† Edell", next: "Seur â†’", zoom: "Zoom / EtÃ¤isyys", touchHint: "Kosketa valikkoa", loading: "Ladataan", error: "Virhe: Ei kamera" },
            no: { title: "Speilterapi VR", desc: "Nevrologisk rehabilitering ved hjelp av virtuell virkelighet.<br>Fungerer pÃ¥ alle mobiler med Cardboard/VR.", start: "START", perm: "Tillat kameratilgang.", support: "â˜• StÃ¸tt prosjektet", searching: "SÃ¸ker kameraer...", prev: "â† Forrige", next: "Neste â†’", zoom: "Zoom / Avstand", touchHint: "Trykk for meny", loading: "Laster", error: "Feil: Ingen kamera" },
            he: { title: "×˜×™×¤×•×œ ×‘××¨××” VR", desc: "×©×™×§×•× × ×•×™×¨×•×œ×•×’×™ ×‘×××¦×¢×•×ª ××¦×™××•×ª ××“×•××”.<br>×¢×•×‘×“ ×¢×œ ×›×œ × ×™×™×“ ×¢× ×§××¨×“×‘×•×¨×“/××©×§×¤×™ VR.", start: "×”×ª×—×œ", perm: "×× × ××©×¨ ×’×™×©×” ×œ××¦×œ××”.", support: "â˜• ×ª××•×š ×‘×¤×¨×•×™×§×˜", searching: "××—×¤×© ××¦×œ××•×ª...", prev: "â† ×”×§×•×“×", next: "×”×‘× â†’", zoom: "×–×•× / ××¨×—×§", touchHint: "×’×¢ ×œ×ª×¤×¨×™×˜", loading: "×˜×•×¢×Ÿ", error: "×©×’×™××”: ××™×Ÿ ××¦×œ××”" },
            el: { title: "Î¸ÎµÏÎ±Ï€ÎµÎ¯Î± ÎºÎ±Î¸ÏÎ­Ï†Ï„Î· VR", desc: "ÎÎµÏ…ÏÎ¹ÎºÎ® Î±Ï€Î¿ÎºÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î¼Î­ÏƒÏ‰ ÎµÎ¹ÎºÎ¿Î½Î¹ÎºÎ®Ï‚ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚.<br>Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ ÏƒÎµ Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ ÎºÎ¹Î½Î·Ï„ÏŒ Î¼Îµ Cardboard/VR.", start: "Î•ÎÎ‘Î¡ÎÎ—", perm: "Î’ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÏ„Îµ Ï„Î·Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î·Î½ ÎºÎ¬Î¼ÎµÏÎ±.", support: "â˜• Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î·", searching: "Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎºÎ±Î¼ÎµÏÏÎ½...", prev: "â† Î ÏÎ¿Î·Î³", next: "Î•Ï€ÏŒÎ¼ â†’", zoom: "Î–Î¿Ï…Î¼ / Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ·", touchHint: "Î‘Î³Î³Î¯Î¾Ï„Îµ Î³Î¹Î± Î¼ÎµÎ½Î¿Ï", loading: "Î¦ÏŒÏÏ„Ï‰ÏƒÎ·", error: "Î£Ï†Î¬Î»Î¼Î±: ÎšÎ±Î¼Î¯Î± ÎºÎ¬Î¼ÎµÏÎ±" },
            uk: { title: "Ğ”Ğ·ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ğ° Ñ‚ĞµÑ€Ğ°Ğ¿Ñ–Ñ VR", desc: "ĞĞµĞ¹Ñ€Ğ¾Ñ€ĞµĞ°Ğ±Ñ–Ğ»Ñ–Ñ‚Ğ°Ñ†Ñ–Ñ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ Ğ²Ñ–Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ñ— Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ñ–.<br>ĞŸÑ€Ğ°Ñ†ÑÑ” Ğ½Ğ° Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ğ¼Ñƒ Ğ¼Ğ¾Ğ±Ñ–Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ğ· Cardboard/VR.", start: "ĞŸĞĞ§ĞĞ¢Ğ˜", perm: "Ğ”Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑŒÑ‚Ğµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğ´Ğ¾ ĞºĞ°Ğ¼ĞµÑ€Ğ¸.", support: "â˜• ĞŸÑ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸", searching: "ĞŸĞ¾ÑˆÑƒĞº ĞºĞ°Ğ¼ĞµÑ€...", prev: "â† ĞŸĞ¾Ğ¿ĞµÑ€", next: "ĞĞ°ÑÑ‚ â†’", zoom: "Ğ—ÑƒĞ¼ / Ğ’Ñ–Ğ´ÑÑ‚Ğ°Ğ½ÑŒ", touchHint: "Ğ¢Ğ¾Ñ€ĞºĞ½Ñ–Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ¼ĞµĞ½Ñ", loading: "Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ", error: "ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°: ĞĞµĞ¼Ğ°Ñ” ĞºĞ°Ğ¼ĞµÑ€Ğ¸" },
            vi: { title: "Liá»‡u phÃ¡p gÆ°Æ¡ng VR", desc: "Phá»¥c há»“i chá»©c nÄƒng tháº§n kinh báº±ng thá»±c táº¿ áº£o.<br>Hoáº¡t Ä‘á»™ng trÃªn má»i Ä‘iá»‡n thoáº¡i di Ä‘á»™ng vá»›i Cardboard/VR.", start: "Báº®T Äáº¦U", perm: "HÃ£y Ä‘áº£m báº£o cho phÃ©p truy cáº­p camera.", support: "â˜• Há»— trá»£ dá»± Ã¡n", searching: "Äang tÃ¬m camera...", prev: "â† TrÆ°á»›", next: "Tiáº¿p â†’", zoom: "Zoom / Khoáº£ng cÃ¡ch", touchHint: "Cháº¡m Ä‘á»ƒ má»Ÿ menu", loading: "Äang táº£i", error: "Lá»—i: KhÃ´ng cÃ³ camera" },
            th: { title: "à¸à¸²à¸£à¸šà¸³à¸šà¸±à¸”à¸”à¹‰à¸§à¸¢à¸à¸£à¸°à¸ˆà¸ VR", desc: "à¸à¸²à¸£à¸Ÿà¸·à¹‰à¸™à¸Ÿà¸¹à¸£à¸°à¸šà¸šà¸›à¸£à¸°à¸ªà¸²à¸—à¹‚à¸”à¸¢à¹ƒà¸Šà¹‰à¸„à¸§à¸²à¸¡à¸ˆà¸£à¸´à¸‡à¹€à¸ªà¸¡à¸·à¸­à¸™<br>à¹ƒà¸Šà¹‰à¹„à¸”à¹‰à¸à¸±à¸šà¸¡à¸·à¸­à¸–à¸·à¸­à¸—à¸¸à¸à¸£à¸¸à¹ˆà¸™à¸—à¸µà¹ˆà¸¡à¸µ Cardboard/VR", start: "à¹€à¸£à¸´à¹ˆà¸¡", perm: "à¹‚à¸›à¸£à¸”à¸­à¸™à¸¸à¸à¸²à¸•à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸à¸¥à¹‰à¸­à¸‡", support: "â˜• à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£", searching: "à¸à¸³à¸¥à¸±à¸‡à¸„à¹‰à¸™à¸«à¸²à¸à¸¥à¹‰à¸­à¸‡...", prev: "â† à¸à¹ˆà¸­à¸™", next: "à¸–à¸±à¸”à¹„à¸› â†’", zoom: "à¸‹à¸¹à¸¡ / à¸£à¸°à¸¢à¸°à¸—à¸²à¸‡", touchHint: "à¹à¸•à¸°à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹à¹€à¸¡à¸™à¸¹", loading: "à¸à¸³à¸¥à¸±à¸‡à¹‚à¸«à¸¥à¸”", error: "à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”: à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸¥à¹‰à¸­à¸‡" },
            id: { title: "Terapi Cermin VR", desc: "Rehabilitasi saraf menggunakan realitas virtual.<br>Bekerja pada ponsel apa pun dengan Cardboard/VR.", start: "MULAI", perm: "Pastikan untuk mengizinkan akses kamera.", support: "â˜• Dukung proyek", searching: "Mencari kamera...", prev: "â† Seb", next: "Lanj â†’", zoom: "Zoom / Jarak", touchHint: "Sentuh untuk menu", loading: "Memuat", error: "Kesalahan: Tidak ada kamera" },
            ms: { title: "Terapi Cermin VR", desc: "Pemulihan saraf menggunakan realiti maya.<br>Berfungsi pada mana-mana telefon bimbit dengan Cardboard/VR.", start: "MULA", perm: "Pastikan benarkan akses kamera.", support: "â˜• Sokong projek", searching: "Mencari kamera...", prev: "â† Sblm", next: "Strus â†’", zoom: "Zum / Jarak", touchHint: "Sentuh untuk menu", loading: "Memuatkan", error: "Ralat: Tiada kamera" },
            cs: { title: "ZrcadlovÃ¡ terapie VR", desc: "Neurorehabilitace pomocÃ­ virtuÃ¡lnÃ­ reality.<br>Funguje na jakÃ©mkoli mobilu s Cardboard/VR.", start: "START", perm: "Povolte prosÃ­m pÅ™Ã­stup ke kameÅ™e.", support: "â˜• PodpoÅ™it projekt", searching: "HledÃ¡nÃ­ kamer...", prev: "â† PÅ™ed", next: "DalÅ¡Ã­ â†’", zoom: "Zoom / VzdÃ¡lenost", touchHint: "Dotyk pro menu", loading: "NaÄÃ­tÃ¡nÃ­", error: "Chyba: Å½Ã¡dnÃ¡ kamera" },
            hu: { title: "TÃ¼kÃ¶r terÃ¡pia VR", desc: "Idegrendszeri rehabilitÃ¡ciÃ³ virtuÃ¡lis valÃ³sÃ¡ggal.<br>BÃ¡rmilyen mobilon mÅ±kÃ¶dik Cardboard/VR-rel.", start: "INDÃTÃS", perm: "KÃ©rjÃ¼k, engedÃ©lyezze a kamerÃ¡t.", support: "â˜• Projekt tÃ¡mogatÃ¡sa", searching: "KamerÃ¡k keresÃ©se...", prev: "â† ElÅ‘zÅ‘", next: "KÃ¶v â†’", zoom: "Zoom / TÃ¡volsÃ¡g", touchHint: "Ã‰rintse meg a menÃ¼t", loading: "BetÃ¶ltÃ©s", error: "Hiba: Nincs kamera" },
            ro: { title: "Terapia Oglinzii VR", desc: "Reabilitare neuronalÄƒ prin realitate virtualÄƒ.<br>FuncÈ›ioneazÄƒ pe orice mobil cu Cardboard/VR.", start: "START", perm: "AsiguraÈ›i-vÄƒ cÄƒ permiteÈ›i accesul la camerÄƒ.", support: "â˜• SusÈ›ineÈ›i proiectul", searching: "CÄƒutare camere...", prev: "â† Ant", next: "Urm â†’", zoom: "Zoom / DistanÈ›Äƒ", touchHint: "AtingeÈ›i pt meniu", loading: "ÃncÄƒrcare", error: "Eroare: FÄƒrÄƒ camerÄƒ" },
            sk: { title: "ZrkadlovÃ¡ terapia VR", desc: "NeurorehabilitÃ¡cia pomocou virtuÃ¡lnej reality.<br>Funguje na akomkoÄ¾vek mobile s Cardboard/VR.", start: "Å TART", perm: "PovoÄ¾te prÃ­stup ku kamere.", support: "â˜• PodporiÅ¥ projekt", searching: "HÄ¾adanie kamier...", prev: "â† Pred", next: "ÄalÅ¡ie â†’", zoom: "Zoom / VzdialenosÅ¥", touchHint: "Dotyk pre menu", loading: "NaÄÃ­tanie", error: "Chyba: Å½iadna kamera" },
            hr: { title: "Terapija ogledalom VR", desc: "Neuralna rehabilitacija putem virtualne stvarnosti.<br>Radi na svakom mobitelu s Cardboard/VR.", start: "START", perm: "Dopustite pristup kameri.", support: "â˜• PodrÅ¾i projekt", searching: "TraÅ¾enje kamera...", prev: "â† Pret", next: "Sljed â†’", zoom: "Zoom / Udaljenost", touchHint: "Dodir za izbornik", loading: "UÄitavanje", error: "GreÅ¡ka: Nema kamere" },
            sr: { title: "Terapija ogledalom VR", desc: "Rehab putem virtuelne stvarnosti.<br>Radi na svakom telefonu sa Cardboard/VR.", start: "START", perm: "Dozvolite pristup kameri.", support: "â˜• PodrÅ¾i projekat", searching: "TraÅ¾enje kamera...", prev: "â† Pret", next: "Sled â†’", zoom: "Zum / Udaljenost", touchHint: "Dodir za meni", loading: "UÄitavanje", error: "GreÅ¡ka: Nema kamere" },
            bg: { title: "ĞĞ³Ğ»ĞµĞ´Ğ°Ğ»Ğ½Ğ° Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ VR", desc: "ĞĞµĞ²Ñ€Ğ¾Ñ€ĞµĞ°Ğ±Ğ¸Ğ»Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ñ‡Ñ€ĞµĞ· Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»Ğ½Ğ° Ñ€ĞµĞ°Ğ»Ğ½Ğ¾ÑÑ‚.<br>Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ¸ Ğ½Ğ° Ğ²ÑĞµĞºĞ¸ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ĞµĞ½ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ñ Cardboard/VR.", start: "Ğ¡Ğ¢ĞĞ Ğ¢", perm: "Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµÑ‚Ğµ Ğ´Ğ¾ÑÑ‚ÑŠĞ¿ Ğ´Ğ¾ ĞºĞ°Ğ¼ĞµÑ€Ğ°Ñ‚Ğ°.", support: "â˜• ĞŸĞ¾Ğ´ĞºÑ€ĞµĞ¿ĞµÑ‚Ğµ", searching: "Ğ¢ÑŠÑ€ÑĞµĞ½Ğµ Ğ½Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ¸...", prev: "â† ĞŸÑ€ĞµĞ´", next: "Ğ¡Ğ»ĞµĞ´ â†’", zoom: "Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ", touchHint: "Ğ”Ğ¾ĞºĞ¾ÑĞ½ĞµÑ‚Ğµ Ğ·Ğ° Ğ¼ĞµĞ½Ñ", loading: "Ğ—Ğ°Ñ€ĞµĞ¶Ğ´Ğ°Ğ½Ğµ", error: "Ğ“Ñ€ĞµÑˆĞºĞ°: ĞÑĞ¼Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ°" },
            sl: { title: "Zrcalna terapija VR", desc: "Rehabilitacija z navidezno resniÄnostjo.<br>Deluje na vseh telefonih s Cardboard/VR.", start: "ZAÄŒNI", perm: "Dovolite dostop do kamere.", support: "â˜• Podpri projekt", searching: "Iskanje kamer...", prev: "â† Prej", next: "Nasl â†’", zoom: "Zoom / Razdalja", touchHint: "Dotik za meni", loading: "Nalaganje", error: "Napaka: Ni kamere" },
            lt: { title: "VeidrodinÄ— terapija VR", desc: "Neuroreabilitacija naudojant virtualiÄ… realybÄ™.<br>Veikia bet kuriame telefone su Cardboard/VR.", start: "PRADÄ–TI", perm: "Leiskite naudoti kamerÄ….", support: "â˜• Paremkite projektÄ…", searching: "IeÅ¡koma kamerÅ³...", prev: "â† Atgal", next: "Pirm â†’", zoom: "Mastelis / Atstumas", touchHint: "Palieskite meniu", loading: "Kraunama", error: "Klaida: NÄ—ra kameros" },
            lv: { title: "SpoguÄ¼terapija VR", desc: "NeirorehabilitÄcija, izmantojot virtuÄlo realitÄti.<br>Darbojas jebkurÄ tÄlrunÄ« ar Cardboard/VR.", start: "SÄ€KT", perm: "LÅ«dzu, atÄ¼aujiet kameras piekÄ¼uvi.", support: "â˜• AtbalstÄ«t projektu", searching: "MeklÄ“ kameras...", prev: "â† Iepr", next: "NÄk â†’", zoom: "TÄlummaiÅ†a", touchHint: "Pieskarieties izvÄ“lnei", loading: "IelÄdÄ“", error: "KÄ¼Å«da: Nav kameras" },
            et: { title: "Peegelravi VR", desc: "Neurorehabilitatsioon virtuaalreaalsuse abil.<br>TÃ¶Ã¶tab igas telefonis Cardboard/VR-iga.", start: "ALUSTA", perm: "Lubage kaamera juurdepÃ¤Ã¤s.", support: "â˜• Toeta projekti", searching: "Kaamerate otsimine...", prev: "â† Eelm", next: "JÃ¤rg â†’", zoom: "Suum / Kaugus", touchHint: "Puuduta menÃ¼Ã¼d", loading: "Laadimine", error: "Viga: Kaamera puudub" },
            tl: { title: "Mirror Therapy VR", desc: "Rehabilitasyon gamit ang virtual reality.<br>Gumagana sa anumang mobile na may Cardboard/VR.", start: "SIMULA", perm: "Pahintulutan ang access sa camera.", support: "â˜• Suportahan ang proyekto", searching: "Naghahanap ng mga camera...", prev: "â† Nakara", next: "Susunod â†’", zoom: "Zoom / Distansya", touchHint: "Pindutin para sa menu", loading: "Naglo-load", error: "Error: Walang camera" },
            fa: { title: "Ø¯Ø±Ù…Ø§Ù† Ø¢ÛŒÙ†Ù‡â€ŒØ§ÛŒ VR", desc: "ØªÙˆØ§Ù†Ø¨Ø®Ø´ÛŒ Ø¹ØµØ¨ÛŒ Ø¨Ø§ ÙˆØ§Ù‚Ø¹ÛŒØª Ù…Ø¬Ø§Ø²ÛŒ.<br>Ø±ÙˆÛŒ Ù‡Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ÛŒ Ø¨Ø§ Cardboard/VR Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.", start: "Ø´Ø±ÙˆØ¹", perm: "Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯ÙˆØ±Ø¨ÛŒÙ† Ø±Ø§ Ù…Ø¬Ø§Ø² Ú©Ù†ÛŒØ¯.", support: "â˜• Ø­Ù…Ø§ÛŒØª Ø§Ø² Ù¾Ø±ÙˆÚ˜Ù‡", searching: "Ø¬Ø³ØªØ¬ÙˆÛŒ Ø¯ÙˆØ±Ø¨ÛŒÙ†â€ŒÙ‡Ø§...", prev: "â† Ù‚Ø¨Ù„ÛŒ", next: "Ø¨Ø¹Ø¯ÛŒ â†’", zoom: "Ø²ÙˆÙ… / ÙØ§ØµÙ„Ù‡", touchHint: "Ù„Ù…Ø³ Ø¨Ø±Ø§ÛŒ Ù…Ù†Ùˆ", loading: "Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ", error: "Ø®Ø·Ø§: Ø¯ÙˆØ±Ø¨ÛŒÙ†ÛŒ Ù†ÛŒØ³Øª" }, // RTL handled by browser usually
            ur: { title: "Ø¢Ø¦ÛŒÙ†Û ØªÚ¾Ø±Ø§Ù¾ÛŒ VR", desc: "ÙˆØ±Ú†ÙˆØ¦Ù„ Ø±Ø¦ÛŒÙ„Ù¹ÛŒ Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ø§Ø¹ØµØ§Ø¨ÛŒ Ø¨Ø­Ø§Ù„ÛŒ.<br>Cardboard/VR Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ù…ÙˆØ¨Ø§Ø¦Ù„ Ù¾Ø± Ú©Ø§Ù… Ú©Ø±ØªØ§ ÛÛ’Û”", start: "Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº", perm: "Ø¨Ø±Ø§Û Ú©Ø±Ù… Ú©ÛŒÙ…Ø±Û’ ØªÚ© Ø±Ø³Ø§Ø¦ÛŒ Ú©ÛŒ Ø§Ø¬Ø§Ø²Øª Ø¯ÛŒÚºÛ”", support: "â˜• Ù¾Ø±ÙˆØ¬ÛŒÚ©Ù¹ Ú©ÛŒ Ø­Ù…Ø§ÛŒØª Ú©Ø±ÛŒÚº", searching: "Ú©ÛŒÙ…Ø±Û’ ØªÙ„Ø§Ø´ Ú©Ø± Ø±ÛØ§ ÛÛ’...", prev: "â† Ù¾Ú†Ú¾Ù„Ø§", next: "Ø§Ú¯Ù„Ø§ â†’", zoom: "Ø²ÙˆÙ… / ÙØ§ØµÙ„Û", touchHint: "Ù…ÛŒÙ†Ùˆ Ú©Û’ Ù„ÛŒÛ’ Ù¹Ú† Ú©Ø±ÛŒÚº", loading: "Ù„ÙˆÚˆÙ†Ú¯", error: "ØºÙ„Ø·ÛŒ: Ú©ÙˆØ¦ÛŒ Ú©ÛŒÙ…Ø±Û Ù†ÛÛŒÚº" },
            sw: { title: "Tiba ya Kioo VR", desc: "Ukarabati wa neva kwa kutumia uhalisia pepe.<br>Inafanya kazi kwenye simu yoyote na Cardboard/VR.", start: "ANZA", perm: "Ruhusu ufikiaji wa kamera.", support: "â˜• Saidia mradi", searching: "Inatafuta kamera...", prev: "â† Nyuma", next: "Mbele â†’", zoom: "Kuza / Umbali", touchHint: "Gusa kwa menyu", loading: "Inapakia", error: "Hitilafu: Hakuna kamera" }
        };

        const languageNames = {
            es: "EspaÃ±ol", en: "English", fr: "FranÃ§ais", de: "Deutsch", pt: "PortuguÃªs",
            it: "Italiano", ru: "Ğ ÑƒÑÑĞºĞ¸Ğ¹", zh: "ä¸­æ–‡", ja: "æ—¥æœ¬èª", ko: "í•œêµ­ì–´",
            ar: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", hi: "à¤¹à¤¿à¤¨à¥à¤¦à¥€", bn: "à¦¬à¦¾à¦‚à¦²à¦¾", tr: "TÃ¼rkÃ§e", nl: "Nederlands",
            pl: "Polski", sv: "Svenska", da: "Dansk", fi: "Suomi", no: "Norsk",
            he: "×¢×‘×¨×™×ª", el: "Î•Î»Î»Î·Î½Î¹ÎºÎ¬", uk: "Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°", vi: "Tiáº¿ng Viá»‡t", th: "à¹„à¸—à¸¢",
            id: "Bahasa Indonesia", ms: "Bahasa Melayu", cs: "ÄŒeÅ¡tina", hu: "Magyar", ro: "RomÃ¢nÄƒ",
            sk: "SlovenÄina", hr: "Hrvatski", sr: "Ğ¡Ñ€Ğ¿ÑĞºĞ¸", bg: "Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸", sl: "SlovenÅ¡Äina",
            lt: "LietuviÅ³", lv: "LatvieÅ¡u", et: "Eesti", tl: "Tagalog", fa: "ÙØ§Ø±Ø³ÛŒ",
            ur: "Ø§Ø±Ø¯Ùˆ", sw: "Kiswahili"
        };

        let idiomaActual = 'es';

        // --- GESTIÃ“N DE IDIOMA ---
        function initIdioma() {
            // Detectar idioma navegador (ej: "es-ES" -> "es")
            const navLang = navigator.language.split('-')[0];
            idiomaActual = i18n[navLang] ? navLang : 'en';

            const select = document.getElementById('langSelect');

            // Llenar selector ordenado alfabÃ©ticamente por nombre
            const sortedLangs = Object.keys(languageNames).sort((a, b) => languageNames[a].localeCompare(languageNames[b]));

            sortedLangs.forEach(code => {
                const opt = document.createElement('option');
                opt.value = code;
                opt.innerText = languageNames[code];
                select.appendChild(opt);
            });

            // Seleccionar actual
            select.value = idiomaActual;
            aplicarIdioma(idiomaActual);
        }

        function cambiarIdioma(newLang) {
            idiomaActual = newLang;
            aplicarIdioma(newLang);
        }

        function aplicarIdioma(lang) {
            const texts = i18n[lang] || i18n['en'];

            // Actualizar textos simples
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (texts[key]) el.innerHTML = texts[key];
            });

            // Actualizar textos dinÃ¡micos si la app ya estÃ¡ corriendo (cÃ¡maras)
            if (listaDispositivos.length > 0) {
                // Forzar actualizaciÃ³n de label de cÃ¡mara
                const device = listaDispositivos[indiceCamActual];
                const cleanLabel = device.label || ('CÃ¡m ' + (indiceCamActual + 1));

                document.getElementById('infoCamara').innerText =
                    `${indiceCamActual + 1}/${listaDispositivos.length}: ${cleanLabel}`;
            }
        }

        function t(key) {
            const texts = i18n[idiomaActual] || i18n['en'];
            return texts[key] || key;
        }

        // --- INICIALIZACIÃ“N ---
        initIdioma(); // Cargar idioma al arrancar script

        // Estas variables ya estÃ¡n declaradas arriba, eliminamos duplicados si los hubiera
        // y aseguramos que el flujo es limpio.

        // --- INICIALIZACIÃ“N ---
        async function iniciarApp(e) {
            if (e) e.stopPropagation();

            // Intento de pantalla completa
            try {
                if (document.documentElement.requestFullscreen)
                    await document.documentElement.requestFullscreen();
                else if (document.documentElement.webkitRequestFullscreen)
                    await document.documentElement.webkitRequestFullscreen();
            } catch (err) { console.log("Fullscreen no permitido o cancelado"); }

            // Wake Lock (Evitar que se apague la pantalla)
            if ('wakeLock' in navigator) {
                try { await navigator.wakeLock.request('screen'); } catch (e) { }
            }

            document.getElementById('pantallaInicio').style.display = 'none';
            document.getElementById('panelControl').style.display = 'flex';

            mostrarUI(); // Inicia el temporizador de ocultar

            // Pedir permisos INICIALES para poder listar etiquetas
            try {
                const streamPermiso = await navigator.mediaDevices.getUserMedia({ video: true });
                await listarCamaras();

                // IMPORTANTE: Detener este stream "fantasma" que solo usamos para pedir permiso.
                // Si no lo paramos, puede bloquear el acceso a otras lentes (Gran Angular, etc)
                // o mantener ocupado el hardware.
                streamPermiso.getTracks().forEach(track => track.stop());

            } catch (err) {
                alert(t('perm'));
            }
        }

        // --- GESTIÃ“N DE CÃMARAS ---
        async function listarCamaras() {
            const devices = await navigator.mediaDevices.enumerateDevices();
            // Filtramos solo entradas de video
            listaDispositivos = devices.filter(d => d.kind === 'videoinput');

            if (listaDispositivos.length > 0) {
                // Intentar encontrar la cÃ¡mara trasera por defecto si es la primera vez
                // Buscamos "back" o "environment" en la etiqueta
                let indexBack = listaDispositivos.findIndex(d => d.label.toLowerCase().includes('back') || d.label.toLowerCase().includes('trasera'));
                if (indexBack !== -1) indiceCamActual = indexBack;

                cargarCamara(indiceCamActual);
            } else {
                document.getElementById('infoCamara').innerText = t('error');
            }
        }

        async function cargarCamara(index) {
            if (listaDispositivos.length === 0) return;

            // Detener stream anterior
            if (streamActual) {
                streamActual.getTracks().forEach(track => track.stop());
            }

            const device = listaDispositivos[index];
            document.getElementById('infoCamara').innerText = `${t('loading')}: ${device.label || (index + 1)}`;

            // --- TRUCO CLAVE 1: ASPECT RATIO 4:3 ---
            // Pedimos 4:3 (ideal 1.333) porque usa el sensor completo en vertical.
            // 16:9 recorta arriba y abajo, reduciendo lo que ves de tu cuerpo.
            const constraints = {
                video: {
                    deviceId: { exact: device.deviceId },
                    aspectRatio: { ideal: 1.333 },
                    width: { ideal: 1280 }, // ResoluciÃ³n base decente, pero prioriza ratio
                    // resizeMode: "none" // Intentar evitar recorte por software si el browser lo soporta
                },
                audio: false
            };

            try {
                streamActual = await navigator.mediaDevices.getUserMedia(constraints);

                const vidL = document.getElementById('videoL');
                const vidR = document.getElementById('videoR');

                vidL.srcObject = streamActual;
                vidR.srcObject = streamActual;

                // Actualizar UI con nombre real
                const track = streamActual.getVideoTracks()[0];
                const settings = track.getSettings();
                // Mostramos info extra si queremos depurar (ej: resoluciÃ³n real)
                document.getElementById('infoCamara').innerText =
                    `${index + 1}/${listaDispositivos.length}: ${device.label || 'Generic'}`; // \n(${settings.width}x${settings.height})`;

            } catch (err) {
                console.error("Error cargando cÃ¡mara:", err);
                document.getElementById('infoCamara').innerText = t('error');
            }
        }

        function cambiarCamara(delta) {
            if (listaDispositivos.length === 0) return;

            indiceCamActual += delta;

            // Loop circular
            if (indiceCamActual >= listaDispositivos.length) indiceCamActual = 0;
            if (indiceCamActual < 0) indiceCamActual = listaDispositivos.length - 1;

            mostrarUI();
            cargarCamara(indiceCamActual);
        }

        // --- ZOOM / ESCALA ---
        function ajustarZoom(valor) {
            escalaZoom = parseFloat(valor);
            document.getElementById('valZoom').innerText = Math.round(escalaZoom * 100) + "%";

            // Aplicamos escala. 
            // scaleX(-1) es necesario para el espejo.
            // Multiplicamos por la escala de zoom.
            const transformString = `scaleX(-1) scale(${escalaZoom})`;

            document.getElementById('videoL').style.transform = transformString;
            document.getElementById('videoR').style.transform = transformString;

            mostrarUI();
        }

        // --- UI INTERACTIVA ---
        function mostrarUI() {
            const panel = document.getElementById('panelControl');
            if (panel.style.display !== 'flex') return; // Si no ha iniciado, no hacer nada

            panel.classList.remove('oculto');

            // Reiniciar timer
            if (timerOcultarUI) clearTimeout(timerOcultarUI);
            timerOcultarUI = setTimeout(() => {
                panel.classList.add('oculto');
            }, 4000);
        }

        function volverInicio() {
            // Detener la cÃ¡mara para ahorrar baterÃ­a y recursos
            if (streamActual) {
                streamActual.getTracks().forEach(track => track.stop());
                streamActual = null;
            }

            // Ocultar panel de control
            document.getElementById('panelControl').style.display = 'none';

            // Mostrar pantalla de inicio
            document.getElementById('pantallaInicio').style.display = 'flex';
        }

    </script>
</body>

</html>